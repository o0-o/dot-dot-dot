# Basics ---------------------------------------------------------------
set-option        -g  default-terminal            'screen-256color'
set-option        -ga terminal-overrides          ',*256col*:Tc'    # 24-bit color
set-window-option -g  xterm-keys                  on                # needed for vim
set-option        -s  focus-events                on

# Interface ------------------------------------------------------------
set-window-option -g  aggressive-resize           on                # prefer not to see negative space
set-option        -g  mouse                       on                # enable mouse
set-option        -g  set-titles                  on                # set terminal title
set-option        -g  base-index                  1                 # start windows numbering at 1
set-window-option -g  pane-base-index             1                 # make pane numbering consistent with windows
set-option        -g  renumber-windows            on                # renumber windows when a window is closed
set-window-option -g  automatic-rename            on                # rename window to reflect current program
set-option        -g  display-panes-time          800               # slightly longer pane indicators display time
set-option        -g  display-time                1000              # slightly longer status messages display time
set-option        -g  status-position             top               # status bar on top
set-option        -g  pane-border-status          top               # pane status on top
set-option        -g  pane-border-format          ' #{pane_index} â”€ #{pane_current_command} '

# Behaviors ------------------------------------------------------------
set-option        -g  history-limit               10000             # more history
set-option        -sg escape-time                 0                 # no escape delay
set-option        -g  status-interval             1                 # update status every second
set-option        -g  monitor-activity            on                # indicate window activity in status bar
set-option        -g  visual-activity             on                # visually (no bell)

# Key Bindings ---------------------------------------------------------
set-option        -g  prefix2                     C-a               # use a for prefix
bind-key              C-a                         send-prefix
unbind-key            C-b                                           # instead of b
bind-key              r                           source-file ~/.tmux.conf \; display '~/.tmux.conf sourced'  # reload this config
#vim
bind-key          -r  h                           select-pane -L    # move left
bind-key          -r  j                           select-pane -D    # move down
bind-key          -r  k                           select-pane -U    # move up
bind-key          -r  l                           select-pane -R    # move right
bind-key          -r  H                           resize-pane -L 2  # resize left
bind-key          -r  J                           resize-pane -D 2  # resize down
bind-key          -r  K                           resize-pane -U 2  # resize up
bind-key          -r  L                           resize-pane -R 2  # resize right
run-shell         -b  'tmux bind  -t  vi-choice h       tree-collapse     2> /dev/null || true'
run-shell         -b  'tmux bind  -t  vi-choice l       tree-expand       2> /dev/null || true'
run-shell         -b  'tmux bind  -t  vi-choice K       start-of-list     2> /dev/null || true'
run-shell         -b  'tmux bind  -t  vi-choice J       end-of-list       2> /dev/null || true'
run-shell         -b  'tmux bind  -t  vi-choice H       tree-collapse-all 2> /dev/null || true'
run-shell         -b  'tmux bind  -t  vi-choice L       tree-expand-all   2> /dev/null || true'
run-shell         -b  'tmux bind  -t  vi-choice Escape  cancel            2> /dev/null || true'
run-shell         -b  'tmux bind  -ct vi-edit   H       start-of-line     2> /dev/null || true'
run-shell         -b  'tmux bind  -ct vi-edit   L       end-of-line       2> /dev/null || true'
run-shell         -b  'tmux bind  -ct vi-edit   q       cancel            2> /dev/null || true'
run-shell         -b  'tmux bind  -ct vi-edit   Escape  cancel            2> /dev/null || true'
bind-key              q                           kill-window \; detach
bind-key              Right                       next-window
bind-key              Left                        previous-window
bind-key              '"'                         split-window -c     "#{pane_current_path}"  # vertical split in current directory
bind-key              %                           split-window -h -c  "#{pane_current_path}"  # horizontal split in current directory

# Plugins --------------------------------------------------------------
set-option        -g  @plugin                     'tmux-plugins/tmux-prefix-highlight'  # change color when prefix is active
set-option        -g  @plugin                     'dracula/tmux'                        # dracula theme
set-option        -g  @dracula-show-battery       false
set-option        -g  @dracula-show-network       false
set-option        -g  @dracula-show-location      false
set-option        -g  @dracula-show-timezone      false
set-option        -g  @dracula-show-weather       false
set-option        -g  @dracula-show-left-icon     session
set-option        -g  @dracula-left-icon-padding  1
set-option        -g  @dracula-cpu-usage          false
set-option        -g  @dracula-ram-usage          false
set-option        -g  @dracula-border-contrast    true
set-option        -g  @dracula-military-time      true
set-option        -g  @dracula-refresh-rate       1
set-option        -g  @plugin                     'tmux-plugins/tmux-yank'
set-option        -g  @plugin                     'tmux-plugins/tmux-resurrect'
set-option        -g  @resurrect-strategy-nvim    'session'
set-option        -g  @plugin                     'tmux-plugins/tmux-continuum'
set-option        -g  @continuum-restore          'on'
run-shell             '~/.config/tmux/plugins/tpm/tpm'
